<div class="edit_profile_drop_overlay hidden"></div>
<div class="clearfix display_flex flex_wrap position_relative">
  <p class="col span_2_of_3">
    {{#feature flag="feature_name_tagging_client"}}
      <label for="full_name_profile_field">Full name</label>
      <input type="text" class="no_bottom_margin" name="full_name" value="{{member.profile.full_name}}" placeholder="Full name" data-validation="required maxlength=71 keywords" id="full_name_profile_field" />
      <span class="input_note">This is how your teammates will refer to you in Slack, unless you add a preferred name below.</span>
    {{else}}
      <label for="first_name_profile_field">First name</label>
      <input type="text" class="no_bottom_margin" name="first_name" value="{{member.profile.first_name}}" placeholder="First name" data-validation="maxlength=34" id="first_name_profile_field" />
    {{/feature}}
  </p>
  <div id="edit_member_profile_photo_container" class="col">
    <label>Profile photo</label>
    {{#feature flag="feature_take_profile_photo"}}
      <div class="member_image_wrapped">{{makeMemberPreviewLinkImage member.id 192 false true}}</div>
      <div class="member_image_wrapped_no_photo">{{makeMemberPreviewLinkImage member.id 192 false true}}</div>
      <div class="member_image_upload hidden"><img src="{{versioned_file_drop_blue}}" class="file_drop_icon animate_file_drop" /></div>
      <ts-icon class="show_take hidden member_upload ts_icon_camera" data-action="edit_member_profile_take_photo"><a>Take a photo</a></ts-icon>
      <ts-icon class="member_upload ts_icon_cloud_upload" data-action="edit_member_profile_upload_image"><a>Upload a photo</a></ts-icon>
      <ts-icon class="show_delete ts_icon_trash" data-action="edit_member_profile_to_delete"><a>Remove photo</a></ts-icon>
    {{else}}
      <div class="member_image_wrapper" data-action="edit_member_profile_photo_menu"><ts-icon class="upload_camera_icon ts_icon_camera" aria-label="upload a photo">{{makeMemberPreviewLinkImage member.id 192 false true}}</ts-icon></div>
    {{/feature}}
  </div>
</div>

<div class="clearfix">
  <p class="col span_2_of_3">
    {{#feature flag="feature_name_tagging_client"}}
      <label for="preferred_name_profile_field">Preferred name <span class="subtle_silver normal">(optional)</span></label>
      <input type="text" class="no_bottom_margin" name="preferred_name" value="{{member.profile.preferred_name}}" placeholder="Preferred name" data-validation="maxlength=71 keywords" id="preferred_name_profile_field" />
      <span class="input_note">If you\u2019d rather be called something shorter, set it here.</span>
    {{else}}
      <label for="last_name_profile_field">Last name</label>
      <input type="text" class="no_bottom_margin" name="last_name" value="{{member.profile.last_name}}" placeholder="Last name" data-validation="maxlength=35" id="last_name_profile_field" />
    {{/feature}}
  </p>
</div>

<div class="clearfix">
  <p class="col span_2_of_3">
    <label for="title_profile_field">What I do</label>
    <input type="text" class="no_bottom_margin" name="title" value="{{member.profile.title}}" placeholder="What I do" data-validation="maxlength=249" id="title_profile_field" />
    <span class="input_note">Let people know what you do at {{team.name}}.</span>
  </p>
</div>

<div class="clearfix">
  <p class="col span_2_of_3">
    <label for="phone_profile_field">Phone number</label>
    <input type="text" class="no_bottom_margin" name="phone" value="{{member.profile.phone}}" placeholder="(123) 555-5555" data-validation="maxlength=98" id="phone_profile_field" />
    <span class="input_note">Enter a phone number.</span>
  </p>
</div>

<div class="clearfix">
  <p class="col span_2_of_3">
    <label class="select with_hint" for="timezone_profile_field">
      {{#t}}Time Zone{{/t}}
      <select class="no_bottom_margin" name="tz" id="timezone_profile_field">
        {{#each timezone_options}}
          <option value="{{this.val}}"{{#if_equal this.val compare=../member_tz}} selected{{/if_equal}}>{{this.label}}</option>
        {{/each}}
      </select>
    </label>
    <span class="input_note">{{#t}}Your current time zone. Used to send summary and notification emails, for times in your activity feeds, and for reminders.{{/t}}</span>
  </p>
</div>

{{#if team_member_profile_fields.length}}
  {{#each team_member_profile_fields}}
    <div class="clearfix">
      <p class="col {{#if_equal this.type compare="link"}}span_2_of_3{{else}}{{#if_equal this.type compare="date"}}span_2_of_3{{else}}span_1_of_1{{/if_equal}}{{/if_equal}} no_padding">
        {{#if_not_equal this.type compare="options_list"}}<label for="{{this.id}}_profile_field">{{this.label}}</label>{{/if_not_equal}}
        {{#if_equal this.type compare="text"}}
          <input type="text" class="no_bottom_margin" name="{{this.id}}" placeholder="{{this.label}}" data-qa="{{this.label}}" data-validation="maxlength=256" value="{{this.value}}" id="{{this.id}}_profile_field" />
        {{/if_equal}}
        {{#if_equal this.type compare="options_list"}}
          <label class="select no_bottom_margin with_hint" id="{{this.id}}_profile_field">{{this.label}}
            <select class="no_bottom_margin" name="{{this.id}}" data-qa="{{this.label}}" id="{{this.id}}_profile_field">
              <option value='' {{#unless ../this.value}} selected{{/unless}}>Select &hellip;</option>
              {{#each this.possible_values}}
                <option{{#if_equal ../this.value compare=this}} selected{{/if_equal}}>{{this}}</option>
              {{/each}}
            </select>
          </label>
        {{/if_equal}}
        {{#if_equal this.type compare="date"}}
          <input type="text" class="no_bottom_margin ts_icon_placeholder" name="{{this.id}}" data-plastic-type="date" placeholder="&#xe023;" data-qa="{{this.label}}" data-validation="dateandformat=Y-m-d" value="{{this.value}}" id="{{this.id}}_profile_field" />
        {{/if_equal}}
        {{#if_equal this.type compare="link"}}
          <input type="text" class="no_bottom_margin" name="{{this.id}}" placeholder="https://" data-qa="{{this.label}}" data-validation="maxlength=256 isurl" value="{{this.value}}" id="{{this.id}}_profile_field"  />
        {{/if_equal}}
        {{#if_equal this.type compare="user"}}
          <input class="edit_member_profile_lazy_filter_select no_bottom_margin" name={{this.id}} data-qa="{{this.label}}" data-validation="maxcsv=25" value="{{this.value}}" id="{{this.id}}_profile_field" />
        {{/if_equal}}
        {{#if this.hint}}
          <span class="input_note">{{this.hint}}</span>
        {{/if}}
      </p>
      {{#if_equal this.type compare="link"}}
        <p class="col span_1_of_3 no_padding">
          <label for="{{this.id}}_alt_profile_field">Display text</label>
          <input type="text" class="no_bottom_margin" name="{{this.id}}_alt" placeholder="My link" data-qa="{{this.label}}_display" data-validation="maxlength=256" value="{{this.alt}}" id="{{this.id}}_alt_profile_field" />
          <span class="input_note">Optional</span>
        </p>
      {{/if_equal}}
      {{#if_equal this.type compare="date"}}
        <p class="col span_1_of_3 no_padding">
          <label for="{{this.id}}_alt_profile_field">Display text</label>
          <input type="text" class="no_bottom_margin" name="{{this.id}}_alt" placeholder="My date" data-qa="{{this.label}}_display" data-validation="maxlength=256" value="{{this.alt}}" id="{{this.id}}_alt_profile_field" />
          <span class="input_note">Optional</span>
        </p>
      {{/if_equal}}
    </div>
  {{/each}}
{{/if}}
