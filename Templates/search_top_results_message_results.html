{{i18n_ns "search"}}

<div class="top_search_results">
  {{#unless show_separated_messages}}<div class="search_module_header"><p><span>{{#t}}Top Results{{/t}}</span></span></p></div>{{/unless}}
  <div id="{{container_id}}" class="search_module">
    <div class="top_results_message_results{{#if debug.show_top_results_not_triggered}} show_top_results_not_triggered{{/if}}">
      {{#if page}}
        {{#each page}}
        {{> search_top_results_message_results_item is_enterprise=../is_enterprise teams_info=../results.teams search_global=../search_global show_feedback=../show_feedback index=@index module_order=../module_order module_name=../module_name top_results_module=../top_results_module show_top_results_not_triggered=../debug.show_top_results_not_triggered message_ids_overlap=../debug.message_ids_overlap show_separated_messages=../show_separated_messages}}
        {{/each}}
        {{paging_html}}
      {{else}}
        <div class="loading_hash_animation"><img src="{{versioned_loading_hash_animation}}" alt="Loading" /><br />{{#t}}loading page {current_page}...{{/t}}</div>
      {{/if}}
    </div>
  </div>
  {{#unless hide_footer}}
  <div class="search_module_footer{{#if debug.show_top_results_not_triggered}} show_top_results_not_triggered{{/if}}">
    <p>
      <span class="top_results_feedback">{{#t}}Were these <span><u><a onclick="TS.search.topResultsFeedback(this, 'top_results_useful');">useful</a></u></span> or <span><u><a onclick="TS.search.topResultsFeedback(this, 'top_results_not_useful');">not useful</a></u></span>?{{/t}}</span>
      <span id="see_more"><a onclick="TS.search.view.moreTopResults();">{{#t}}See more{{/t}}</a><ts-icon style="position: absolute" class="ts_icon_chevron_right"></ts-icon></span>
    </p>
  </div>
  {{/unless}}
  {{!-- hbslint-disable unwrapped --}}
  {{!-- This is debugging information. No need to wrap --}}
  {{#if debug.show_top_results_not_triggered}}
  <div style="color: red; font-size: 12px;">Triggers Failed</div>
  <ul>
    {{#each debug.triggers_failed}}
      <li><span style="color: red; font-size: 12px">{{this}}</span></li>
    {{/each}}
  </ul>
  {{/if}}
</div>
