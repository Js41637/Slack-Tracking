{{i18n_ns "jumper"}}{{!-- don't add whitespace here, or the ts-jumper-results:empty selector won't be applied --}}{{#if matches}}{{!-- hbslint-disable unwrapped --}}{{!-- Todo: enable unwrapped linter --}}
  <ol class="no_pointer_events {{#if show_scores}}show_scores{{/if}}">{{!-- no_pointer_events to workaround webkit bug: see TS.ui.jumper._captureFakeMousemoveEvent() --}}
    {{#each matches}}

      {{#feature flag="feature_name_tagging_client"}}
        <li data-item-id="{{this.model_ob.id}}">
      {{else}}
        <li aria-label="{{#if this.model_ob.team_url}}{{this.model_ob.team_name}}{{else}}{{this.model_ob.name}}{{/if}}{{#showDraftIcon this.model_ob}}, {{#t}}draft{{/t}}{{/showDraftIcon}}" data-item-id="{{this.model_ob.id}}" {{#if this.model_ob.team_url}}data-item-team-id="{{this.model_ob.team_id}}"{{/if}}>
      {{/feature}}
        <span class="item_details float_left overflow_ellipsis">
          {{#showDraftIcon this.model_ob}}
            <ts-icon aria-hidden="true" class="ts_icon_pencil"></ts-icon>
          {{else}}
            {{#if this.model_ob.is_group}}
              {{#if this.model_ob.is_mpim}}
                <ts-icon class="ts_icon_multiparty_dm_{{mpimMemberCount this.model_ob}}"></ts-icon>
              {{else}}
                <ts-icon class="ts_icon_lock"></ts-icon>
              {{/if}}
            {{/if}}
            {{#if this.model_ob.is_channel}}
              {{#if this.model_ob.is_archived}}
                <ts-icon aria-hidden="true" class="ts_icon_archived_channel"></ts-icon>
              {{else}}
                <ts-icon aria-hidden="true" class="ts_icon_channel_pane_hash"></ts-icon>
              {{/if}}
            {{/if}}
            {{#if this.model_ob.presence}}{{makeMemberPresenceIcon this.model_ob}}{{/if}}
            {{#if this.model_ob.team_url}}{{#if this.model_ob.team_icon}}<img class="jumper_team_icon" aria-hidden="true" src="{{this.model_ob.team_icon.image_44}}">{{else}}<ts-icon class="ts_icon_random"></ts-icon>{{/if}}{{/if}}
          {{/showDraftIcon}}
          {{#if this.model_ob.presence}}
            {{#feature flag="feature_name_tagging_client"}}
              {{getMemberFullNameAndPreferredNameInOrder this.model_ob}}
            {{else}}
              {{getMemberUsernameAndRealNameInCorrectOrder this.model_ob}}
            {{/feature}}
            {{#feature flag="feature_shared_channels_client"}}{{#if this.model_ob.is_external}}<span class="member_team_name">({{getTeamNameByMember this.model_ob}})</span>{{/if}}{{/feature}}
            {{#feature flag="feature_user_custom_status"}}
              {{#if this.model_ob.profile}}
                {{#or this.model_ob.profile.status_emoji this.model_ob.profile.status_text}}
                  <span class="current_status">{{getMemberCurrentStatusForDisplay this.model_ob}}</span>
                {{/or}}
              {{/if}}
            {{/feature}}
          {{else if this.model_ob.is_view}}
            {{#if_equal this.model_ob.id compare="Vall_unreads"}}
              <ts-icon class="ts_icon_list"></ts-icon>
            {{/if_equal}}
            {{#if_equal this.model_ob.id compare="Vall_threads"}}
              <ts-icon class="ts_icon_small_reply"></ts-icon>
            {{/if_equal}}
            {{#if_equal this.model_ob.id compare="Vapp_index"}}
              <ts-icon class="ts_icon_bolt"></ts-icon>
            {{/if_equal}}
            {{#if_equal this.model_ob.id compare="Vall_threads"}}
              {{#if ../threads_has_unreads}}
                <span class="view_name">New Threads</span>
              {{else}}
                <span class="view_name">All Threads</span>
              {{/if}}
            {{else}}
              <span class="view_name">{{this.model_ob.name}}</span>
            {{/if_equal}}
          {{else}}
            {{#if this.model_ob.is_mpim}}
              {{! remove disambiguate_mpims after feature_name_tagging_client }}
              <span class="channel_name">{{#if ../disambiguate_mpims}}{{mpimDisplayName this.model_ob false true}}{{else}}{{mpimDisplayName this.model_ob}}{{/if}}</span>
            {{else}}
              {{#if this.model_ob.team_url}}
                <span class="channel_name">{{this.model_ob.team_name}}</span> <span class="team_username">{{#t note='When switching to another team in jumper, Signed in as myusername' username=this.model_ob.name}}Signed in as {username}{{/t}}</span>
              {{else}}
                <span class="channel_name">{{this.model_ob.name}}</span>
              {{/if}}
            {{/if}}
            {{#if this.model_ob.is_archived}}
              <span class="channel_archived">{{#t note='Displayed after archived channel name in jumper results, such as #old-channel (archived)'}}(archived){{/t}}</span>
            {{else}}
              {{#if this.model_ob.is_channel}}{{#unless this.model_ob.is_member}}<span class="channel_not_member">{{#t note='Displayed after channels you are not in in jumper results, #some-channel (not a member)'}}(not a member){{/t}}</span>{{/unless}}{{/if}}
            {{/if}}
            {{#if this.model_ob._jumper_previous_name_match}}
              <span class="channel_not_member">{{#t note='Indicates renamed channels, #new-name (formerly #old-name)' previous_name=this.model_ob._jumper_previous_name_match}}(formerly #{previous_name}){{/t}}</span>
            {{/if}}
          {{/if}}
          {{#if ../show_scores}}
            <span class="jumper_score">{{#if this.score}}{{roundToThree this.score}}{{else}}0{{/if}}</span>
          {{/if}}
          {{#if this.model_ob.is_mpim}}
            {{#if this.model_ob.unread_cnt}}
              <span class="unread_count">{{this.model_ob.unread_cnt}}</span>
            {{/if}}
          {{else if this.model_ob.presence}}
            {{#memberHasImUnreadCount member=this.model_ob}}
              <span class="unread_count">{{getUnreadCountForIMByMemberId this.model_ob.id}}</span>
            {{/memberHasImUnreadCount}}
          {{else if this.model_ob.is_view}}
            {{#if_equal this.model_ob.id compare="Vall_threads"}}
              {{#if ../threads_mention_count}}<span class="unread_count">{{../threads_mention_count}}</span>{{/if}}
            {{/if_equal}}
          {{else}}
            {{#if this.model_ob.unread_highlight_cnt}}
              <span class="unread_count">{{this.model_ob.unread_highlight_cnt}}</span>
            {{/if}}
          {{/if}}
          {{#feature flag="feature_shared_channels_client"}}
            {{#if this.model_ob.is_shared}}
              {{#unless this.model_ob.is_org_shared}}
                {{> shared_channels_icon}}
              {{/unless}}
            {{/if}}
          {{/feature}}
        </span>
        {{#if this.model_ob.is_org_shared}}
          {{#unless this.model_ob.is_mpim}}
            <span class="channel_shared float_left">
              {{> shared_channel_icon}}
            </span>
          {{/unless}}
        {{/if}}
      </li>
    {{/each}}
    {{#if show_extended_search}}
      {{> jumper_org_search_row}}
    {{/if}}
  </ol>
{{else if show_extended_search}}
  <ol class="no_pointer_events">
    {{> jumper_org_search_row}}
  </ol>
{{else}}
  {{#if query}}
    <p>
      {{#t}}No matches found. Did you spell it correctly?{{/t}}
      {{#if show_new_channel_link}}
        <a data-action="new_channel" class="btn btn_outline" data-qa="jumper_new_channel_button">{{#t}}Create a channel named #{clean_name}{{/t}}</a>
      {{/if}}
    </p>
  {{/if}}
{{/if}}